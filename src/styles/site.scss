@mixin fullpage {
    margin: 0;
    padding: 0;
    height: 100%;
}

@keyframes fadein {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

.splashLogo {
    animation: fadein 0.5s;
    width: 30%;
    height: 30%;
    background-image: url(@jellyfin/ux-web/icon-transparent.png);
    background-position: center center;
    background-repeat: no-repeat;
    background-size: contain;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

@media screen
    and (min-device-width: 992px) {
    .splashLogo {
        background-image: url(@jellyfin/ux-web/banner-light.png);
    }
}

html {
    @include fullpage;
    line-height: 1.35;
}

body {
    @include fullpage;
    overflow-x: hidden;
    background-color: transparent !important;
    -webkit-font-smoothing: antialiased;
}

.clipForScreenReader {
    clip: rect(1px, 1px, 1px, 1px);
    clip-path: inset(50%);
    height: 1px;
    width: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
}

.material-icons {
    /* Fix font ligatures on older WebOS versions */
    font-feature-settings: "liga";
}

.backgroundContainer {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    contain: strict;
}

.layout-mobile,
.layout-tv {
    -webkit-touch-callout: none;
    user-select: none;
}

.mainAnimatedPage {
    contain: style size !important;
}

.pageContainer {
    overflow-x: visible !important;
}

.bodyWithPopupOpen {
    overflow-y: hidden !important;
}

div[data-role="page"] {
    outline: 0;
}

.pageTitle {
    margin-top: 0;
    font-family: inherit;
}

.fieldDescription {
    padding-left: 0.15em;
    font-weight: 400;
    white-space: normal !important;

    + .fieldDescription {
        margin-top: 0.3em;
    }
}

.content-primary,
.padded-bottom-page,
.page,
.pageWithAbsoluteTabs .pageTabContent {
    /* provides room for the music controls */
    padding-bottom: 5em !important;
    padding-bottom: calc(env(safe-area-inset-bottom) + 5em) !important;
}

.readOnlyContent {
    @media all and (min-width: 50em) {
        max-width: 54em;
    }
}

form {
    @media all and (min-width: 50em) {
        max-width: 54em;
    }
}

.mediaInfoContent {
    margin-left: auto;
    margin-right: auto;
    width: 85%;
}

.headroom {
    will-change: transform;
    transition: transform 200ms linear;

    &--pinned {
        transform: translateY(0%);
    }

    &--unpinned {
        transform: translateY(-100%);
    }
}

.drawerContent {
    /* make sure the bottom of the drawer is visible when music is playing */
    padding-bottom: 4em;
}

.force-scroll {
    overflow-y: scroll;
}

.hide-scroll {
    overflow-y: hidden;
}

.w-100 {
    width: 100%;
}

.margin-auto-x {
    margin-left: auto;
    margin-right: auto;
}

.margin-auto-y {
    margin-top: auto;
    margin-bottom: auto;
}

/* ============================================================
   IMPROVED MOBILE RESPONSIVENESS & KEYBOARD NAVIGATION
   ============================================================ */

/* Better focus indicators for keyboard navigation */
:focus-visible {
    outline: 3px solid #00a4dc !important;
    outline-offset: 2px !important;
}

/* Skip navigation for keyboard users */
.skip-to-main-content {
    position: absolute;
    left: -9999px;
    z-index: 999;
    padding: 1rem;
    background: #101010;
    color: #fff;
    text-decoration: none;
    border-radius: 0 0 4px 4px;
}

.skip-to-main-content:focus {
    left: 0;
    top: 0;
}

/* Mobile responsive improvements */
@media (max-width: 768px) {
    /* Ensure header and navigation are always visible */
    .skinHeader,
    .headerTabs,
    .mainDrawerButton {
        display: flex !important;
        visibility: visible !important;
        position: relative;
        z-index: 1100;
    }

    /* Better touch targets on mobile */
    button,
    a,
    .btn {
        min-height: 44px;
        min-width: 44px;
    }

    /* Full-width cards on mobile */
    .card,
    .itemsContainer {
        width: 100% !important;
        padding: 0.5em !important;
    }

    /* Responsive typography */
    html {
        font-size: 14px;
    }

    /* Hide less important elements on small screens */
    .hide-on-mobile {
        display: none !important;
    }

    /* Better mobile navigation */
    .mainDrawer {
        /* Preserve existing positioning and properties */
        position: fixed;
        top: 0;
        bottom: 0;
        width: 85%;
        max-width: 300px;
        /* Ensure navigation is visible and functional */
        z-index: 1099;
        display: flex;
    }

    /* Responsive video player */
    .videoPlayerContainer {
        width: 100%;
        height: auto;
        aspect-ratio: 16 / 9;
    }

    /* Touch-friendly scrolling */
    .scrollY {
        -webkit-overflow-scrolling: touch;
    }

    /* Adjust padding for mobile */
    .padded-content,
    .content-primary {
        padding: 1em !important;
    }
}

/* Tablet adjustments */
@media (min-width: 769px) and (max-width: 1024px) {
    /* Show 2 columns on tablets */
    .card,
    .itemsContainer {
        width: 50% !important;
    }
}

/* Large desktop improvements */
@media (min-width: 1920px) {
    /* Show more columns on ultra-wide screens */
    .card,
    .itemsContainer {
        max-width: 25%;
    }
}

/* Prevent horizontal scroll on mobile */
body,
html {
    overflow-x: hidden;
}

/* Better mobile form inputs */
@media (max-width: 768px) {
    input,
    select,
    textarea {
        font-size: 16px !important; /* Prevents iOS zoom */
    }

    /* Full-width forms on mobile */
    form,
    .form {
        width: 100%;
        max-width: 100%;
    }
}

/* Improved card hover states for desktop */
@media (min-width: 769px) {
    .card:hover {
        transform: translateY(-4px);
        transition: transform 0.2s ease-in-out;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .card:focus-within {
        transform: translateY(-4px);
        box-shadow: 0 0 0 3px #00a4dc;
    }
}

/* Smooth scrolling for better UX */
html {
    scroll-behavior: smooth;
}

/* Better focus styles for interactive elements */
button:focus,
a:focus,
input:focus,
select:focus,
textarea:focus {
    box-shadow: 0 0 0 3px rgba(0, 164, 220, 0.5);
}

/* Responsive images */
img {
    max-width: 100%;
    height: auto;
}

/* Better mobile layout for home page */
@media (max-width: 768px) {
    .homePage {
        padding: 0;
    }

    /* Full-width hero sections */
    .hero,
    .banner {
        width: 100%;
        padding: 1em;
    }

    /* Stack vertically on mobile */
    .flex-row {
        flex-direction: column;
    }

    /* Center content on mobile */
    .text-center-mobile {
        text-align: center;
    }
}

/* Landscape mobile adjustments */
@media (max-width: 768px) and (orientation: landscape) {
    /* Reduce vertical spacing in landscape */
    .sectionTitle {
        margin: 0.5em 0;
    }

    /* Smaller fonts in landscape */
    html {
        font-size: 13px;
    }
}
